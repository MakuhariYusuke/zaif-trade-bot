{"numTotalTestSuites":40,"numPassedTestSuites":40,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":32,"numPassedTests":30,"numFailedTests":0,"numPendingTests":2,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1758302157496,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["tools/trade-live flow"],"fullName":"tools/trade-live flow emits TRADE_PLAN on dry-run and TRADE_PHASE on live promotion","status":"passed","title":"emits TRADE_PLAN on dry-run and TRADE_PHASE on live promotion","duration":246.78599999999994,"failureMessages":[],"meta":{}}],"startTime":1758302160172,"endTime":1758302160418.786,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/integration/trade-live/flow.test.ts"},{"assertionResults":[{"ancestorTitles":["trade-live phase escalation"],"fullName":"trade-live phase escalation promotes 1->2->3 with escalating plannedOrders","status":"passed","title":"promotes 1->2->3 with escalating plannedOrders","duration":48.99709999999993,"failureMessages":[],"meta":{}}],"startTime":1758302160559,"endTime":1758302160607.997,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/integration/trade-live/phase-escalation.test.ts"},{"assertionResults":[{"ancestorTitles":["position-store-fs sanity"],"fullName":"position-store-fs sanity saves and loads a position","status":"passed","title":"saves and loads a position","duration":33.42640000000006,"failureMessages":[],"meta":{}}],"startTime":1758302161954,"endTime":1758302161987.4265,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/adapters/position-store-fs.sanity.test.ts"},{"assertionResults":[{"ancestorTitles":["BaseService"],"fullName":"BaseService withRetry retries and eventually succeeds","status":"passed","title":"withRetry retries and eventually succeeds","duration":19.293099999999868,"failureMessages":[],"meta":{}},{"ancestorTitles":["BaseService"],"fullName":"BaseService withRetry bails early on ECONNRESET","status":"passed","title":"withRetry bails early on ECONNRESET","duration":15.596000000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["BaseService"],"fullName":"BaseService log helpers delegate to global logger","status":"passed","title":"log helpers delegate to global logger","duration":4.640600000000177,"failureMessages":[],"meta":{}}],"startTime":1758302162025,"endTime":1758302162064.6406,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/base-service.test.ts"},{"assertionResults":[{"ancestorTitles":["services/execution-service pollFillState"],"fullName":"services/execution-service pollFillState handles partial fill increments then marks FILLED when history shows full amount (order_id match)","status":"passed","title":"handles partial fill increments then marks FILLED when history shows full amount (order_id match)","duration":616.5863000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["services/execution-service pollFillState"],"fullName":"services/execution-service pollFillState heuristic match path when order_id not available","status":"passed","title":"heuristic match path when order_id not available","duration":71.04410000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["services/execution-service pollFillState"],"fullName":"services/execution-service pollFillState marks CANCELLED when active missing and no fills found (overlapping path)","status":"skipped","title":"marks CANCELLED when active missing and no fills found (overlapping path)","failureMessages":[],"meta":{}}],"startTime":1758302158763,"endTime":1758302159451.0442,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/execution-service.poll.test.ts"},{"assertionResults":[{"ancestorTitles":["adapters/execution-service pollFillState slow polling WARN"],"fullName":"adapters/execution-service pollFillState slow polling WARN emits EXEC WARN when polling exceeds 30s","status":"passed","title":"emits EXEC WARN when polling exceeds 30s","duration":1933.9928,"failureMessages":[],"meta":{}}],"startTime":1758302158854,"endTime":1758302160787.993,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/execution-service.poll.warn.test.ts"},{"assertionResults":[{"ancestorTitles":["services/execution-service submitWithRetry"],"fullName":"services/execution-service submitWithRetry returns immediate filled result in DRY_RUN mode","status":"passed","title":"returns immediate filled result in DRY_RUN mode","duration":558.5933,"failureMessages":[],"meta":{}},{"ancestorTitles":["services/execution-service submitWithRetry"],"fullName":"services/execution-service submitWithRetry first poll not filled then retry submission fills (covered by boundary tests)","status":"skipped","title":"first poll not filled then retry submission fills (covered by boundary tests)","failureMessages":[],"meta":{}}],"startTime":1758302158768,"endTime":1758302159326.5933,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/execution-service.retry.test.ts"},{"assertionResults":[{"ancestorTitles":["services/execution-service.onExitFill"],"fullName":"services/execution-service.onExitFill appends realized PnL and reduces position qty","status":"passed","title":"appends realized PnL and reduces position qty","duration":2058.6601,"failureMessages":[],"meta":{}}],"startTime":1758302158762,"endTime":1758302160820.6602,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/execution-service.test.ts"},{"assertionResults":[{"ancestorTitles":["live minimal safety clamp (bid, JPY-based)"],"fullName":"live minimal safety clamp (bid, JPY-based) logs [SAFETY] amount clamped for bid with JPY clamp","status":"passed","title":"logs [SAFETY] amount clamped for bid with JPY clamp","duration":222.26650000000006,"failureMessages":[],"meta":{}}],"startTime":1758302160146,"endTime":1758302160368.2666,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/live-minimal.safety.test.ts"},{"assertionResults":[{"ancestorTitles":["tools/live/test-minimal-live"],"fullName":"tools/live/test-minimal-live SELL_ONLY limit order gets cancelled (unfilled) and cancel is called","status":"passed","title":"SELL_ONLY limit order gets cancelled (unfilled) and cancel is called","duration":2315.8655,"failureMessages":[],"meta":{}}],"startTime":1758302158783,"endTime":1758302161098.8655,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/live-minimal.test.ts"},{"assertionResults":[{"ancestorTitles":["live minimal safety warn"],"fullName":"live minimal safety warn emits WARN when exposure exceeds threshold (after clamp still >5%)","status":"passed","title":"emits WARN when exposure exceeds threshold (after clamp still >5%)","duration":156.9642,"failureMessages":[],"meta":{}}],"startTime":1758302160262,"endTime":1758302160418.964,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/live-safety-warn.test.ts"},{"assertionResults":[{"ancestorTitles":["services/market-service abnormal responses"],"fullName":"services/market-service abnormal responses fetchMarketOverview tolerates partial failures (e.g., getTrades 429)","status":"passed","title":"fetchMarketOverview tolerates partial failures (e.g., getTrades 429)","duration":77.83159999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["services/market-service abnormal responses"],"fullName":"services/market-service abnormal responses fetchBalance throws Unauthorized from private api","status":"passed","title":"fetchBalance throws Unauthorized from private api","duration":27.531000000000063,"failureMessages":[],"meta":{}}],"startTime":1758302161297,"endTime":1758302161402.531,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/market-service.abnormal.test.ts"},{"assertionResults":[{"ancestorTitles":["services/market-service cache"],"fullName":"services/market-service cache uses cached ticker within TTL","status":"passed","title":"uses cached ticker within TTL","duration":85.40459999999996,"failureMessages":[],"meta":{}}],"startTime":1758302161301,"endTime":1758302161386.4045,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/market-service.cache.test.ts"},{"assertionResults":[{"ancestorTitles":["services/market-service private nonce retry"],"fullName":"services/market-service private nonce retry retries on invalid nonce then succeeds","status":"passed","title":"retries on invalid nonce then succeeds","duration":648.4737,"failureMessages":[],"meta":{}},{"ancestorTitles":["services/market-service private nonce retry"],"fullName":"services/market-service private nonce retry throws on Unauthorized error","status":"passed","title":"throws on Unauthorized error","duration":44.599899999999934,"failureMessages":[],"meta":{}}],"startTime":1758302158759,"endTime":1758302159452.5999,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/market-service.nonce.test.ts"},{"assertionResults":[{"ancestorTitles":["adapters/market-service retry boundaries"],"fullName":"adapters/market-service retry boundaries retries on 429 then succeeds","status":"passed","title":"retries on 429 then succeeds","duration":543.7086000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["adapters/market-service retry boundaries"],"fullName":"adapters/market-service retry boundaries continuous 429 exhausts backoff and fails","status":"passed","title":"continuous 429 exhausts backoff and fails","duration":53.967800000000125,"failureMessages":[],"meta":{}},{"ancestorTitles":["adapters/market-service retry boundaries"],"fullName":"adapters/market-service retry boundaries ECONNRESET treated as failure without retries","status":"passed","title":"ECONNRESET treated as failure without retries","duration":53.05970000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["adapters/market-service retry boundaries"],"fullName":"adapters/market-service retry boundaries JSON parse error surfaces as failure","status":"passed","title":"JSON parse error surfaces as failure","duration":33.641200000000026,"failureMessages":[],"meta":{}}],"startTime":1758302158855,"endTime":1758302159539.641,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/market-service.retry.boundary.test.ts"},{"assertionResults":[{"ancestorTitles":["services/market-service"],"fullName":"services/market-service fetchMarketOverview returns aggregated data","status":"passed","title":"fetchMarketOverview returns aggregated data","duration":48.44410000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["services/market-service"],"fullName":"services/market-service fetchBalance throws on error","status":"passed","title":"fetchBalance throws on error","duration":24.797199999999975,"failureMessages":[],"meta":{}}],"startTime":1758302161352,"endTime":1758302161425.797,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/market-service.test.ts"},{"assertionResults":[{"ancestorTitles":["max hold guard (service)"],"fullName":"max hold guard (service) emits TIME_LIMIT when hold exceeds MAX_HOLD_SEC","status":"passed","title":"emits TIME_LIMIT when hold exceeds MAX_HOLD_SEC","duration":7.404300000000035,"failureMessages":[],"meta":{}}],"startTime":1758302162608,"endTime":1758302162615.4043,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/max-hold-guard.test.ts"},{"assertionResults":[{"ancestorTitles":["private API rate-limit handling"],"fullName":"private API rate-limit handling placeLimitOrder retries on 429 then throws","status":"passed","title":"placeLimitOrder retries on 429 then throws","duration":18.66449999999986,"failureMessages":[],"meta":{}}],"startTime":1758302162894,"endTime":1758302162912.6646,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/private-rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["public API abnormal cases"],"fullName":"public API abnormal cases timeout (ETIMEDOUT) is retried then warned/omitted","status":"passed","title":"timeout (ETIMEDOUT) is retried then warned/omitted","duration":41.60980000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["public API abnormal cases"],"fullName":"public API abnormal cases network error (ECONNRESET) retried then omitted","status":"passed","title":"network error (ECONNRESET) retried then omitted","duration":9.111899999999878,"failureMessages":[],"meta":{}}],"startTime":1758302162694,"endTime":1758302162745.1118,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/public-abnormal.test.ts"},{"assertionResults":[{"ancestorTitles":["public API timeout short (RETRY_ATTEMPTS=1)"],"fullName":"public API timeout short (RETRY_ATTEMPTS=1) getTicker ETIMEDOUT causes warn path and returns partial overview","status":"passed","title":"getTicker ETIMEDOUT causes warn path and returns partial overview","duration":20.287000000000035,"failureMessages":[],"meta":{}}],"startTime":1758302162328,"endTime":1758302162348.287,"status":"passed","message":"","name":"C:/Users/Admin/dev/zaif-trade-bot/__tests__/unit/services/public-timeout-short.test.ts"}]}